<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>×”××©×ª×œ×”</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700;900&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color: transparent; }

:root {
  --green:      #3a8c3a;
  --green-dark: #2a6a2a;
  --green-pale: #f0f8f0;
  --orange:     #e07010;
  --gray-side:  #c8ccc8;
  --text:       #1a2e1a;
  --white:      #ffffff;
  --bg:         #1a1a1a;
}

body {
  font-family: 'Heebo', sans-serif;
  background: var(--bg);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* â”€â”€ PHONE FRAME â”€â”€ */
.frame {
  width: 390px;
  height: 844px;
  background: #0a0a0a;
  border-radius: 54px;
  padding: 14px;
  box-shadow:
    0 0 0 2px #333,
    0 0 0 6px #1a1a1a,
    0 40px 100px rgba(0,0,0,0.8);
  position: relative;
  display: flex;
  flex-direction: column;
}

/* Notch / Dynamic Island */
.notch {
  position: absolute;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 34px;
  background: #0a0a0a;
  border-radius: 20px;
  z-index: 100;
}

/* Side buttons */
.btn-side-right {
  position: absolute;
  right: -3px; top: 160px;
  width: 4px; height: 80px;
  background: #444;
  border-radius: 2px 0 0 2px;
}
.btn-side-left-1 {
  position: absolute;
  left: -3px; top: 130px;
  width: 4px; height: 40px;
  background: #444;
  border-radius: 0 2px 2px 0;
}
.btn-side-left-2 {
  position: absolute;
  left: -3px; top: 185px;
  width: 4px; height: 60px;
  background: #444;
  border-radius: 0 2px 2px 0;
}
.btn-side-left-3 {
  position: absolute;
  left: -3px; top: 260px;
  width: 4px; height: 60px;
  background: #444;
  border-radius: 0 2px 2px 0;
}

/* â”€â”€ SCREEN â”€â”€ */
.screen {
  flex: 1;
  background: #f5f7f5;
  border-radius: 42px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* â”€â”€ TOP BAR â”€â”€ */
.topbar {
  background: var(--white);
  padding: 52px 20px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid #e8eee8;
  flex-shrink: 0;
}
.topbar-title {
  font-size: 22px;
  font-weight: 900;
  color: var(--green-dark);
}
.topbar-cart {
  position: relative;
  background: none;
  border: none;
  font-size: 26px;
  cursor: pointer;
  line-height: 1;
}
.cart-badge {
  position: absolute;
  top: -4px; left: -6px;
  background: #e03030;
  color: #fff;
  border-radius: 50%;
  width: 18px; height: 18px;
  font-size: 10px;
  font-weight: 900;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Heebo', sans-serif;
}

/* â”€â”€ VIEWS â”€â”€ */
.view { display: none; flex: 1; flex-direction: column; overflow: hidden; }
.view.active { display: flex; }

/* â•â• CATEGORY LIST VIEW â•â• */
.cat-view { background: #f5f7f5; }

.cat-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 16px 16px 8px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.cat-item {
  background: var(--white);
  border-radius: 16px;
  padding: 18px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  border: 2px solid #e8eee8;
  transition: all 0.15s;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.cat-item:active { transform: scale(0.97); background: var(--green-pale); }
.cat-item-left { display: flex; align-items: center; gap: 14px; }
.cat-emoji { font-size: 32px; }
.cat-info-text {}
.cat-name { font-size: 17px; font-weight: 900; color: var(--text); }
.cat-count { font-size: 13px; color: #888; margin-top: 1px; }
.cat-arrow { font-size: 18px; color: #bbb; }

/* â•â• PRODUCT LIST VIEW â•â• */
.prod-list-view { background: #f5f7f5; }

.back-bar {
  background: var(--white);
  padding: 12px 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  border-bottom: 1px solid #e8eee8;
  flex-shrink: 0;
}
.back-btn {
  background: none;
  border: none;
  font-size: 16px;
  font-weight: 700;
  color: var(--green-dark);
  cursor: pointer;
  font-family: 'Heebo', sans-serif;
  display: flex; align-items: center; gap: 4px;
  padding: 4px 0;
}
.back-title { font-size: 17px; font-weight: 900; color: var(--text); flex: 1; text-align: center; }

.prod-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 14px 14px 8px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.prod-item {
  background: var(--white);
  border-radius: 16px;
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
  border: 2px solid #e8eee8;
  transition: all 0.15s;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.prod-item:active { transform: scale(0.97); border-color: var(--green); }
.prod-thumb {
  width: 68px; height: 68px;
  border-radius: 12px;
  background: var(--green-pale);
  border: 1px solid #d8eed8;
  flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
  font-size: 38px;
}
.prod-thumb img { width: 100%; height: 100%; object-fit: contain; padding: 4px; }
.prod-item-info { flex: 1; min-width: 0; }
.prod-item-name { font-size: 15px; font-weight: 700; color: var(--text); }
.prod-item-attrs { font-size: 12px; color: #888; margin-top: 3px; }
.prod-item-price { font-size: 17px; font-weight: 900; color: var(--orange); flex-shrink: 0; }

/* â•â• PRODUCT DETAIL VIEW â•â• */
.detail-view { background: var(--white); }

.detail-scroll {
  flex: 1;
  overflow-y: auto;
}

.detail-img-wrap {
  width: 100%;
  height: 260px;
  background: var(--green-pale);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 110px;
  border-bottom: 1px solid #e8eee8;
  position: relative;
  overflow: hidden;
}
.detail-img-wrap img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 16px;
}

/* Nav arrows on image */
.img-nav {
  position: absolute;
  bottom: 14px;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 16px;
}
.img-nav-btn {
  width: 44px; height: 34px;
  background: rgba(255,255,255,0.9);
  border: none;
  border-radius: 20px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  color: #444;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  transition: all 0.15s;
}
.img-nav-btn:disabled { opacity: 0.3; }
.img-nav-btn:active:not(:disabled) { transform: scale(0.92); }

/* Dots indicator */
.dots {
  position: absolute;
  bottom: 14px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 6px;
}
.dot {
  width: 6px; height: 6px;
  border-radius: 50%;
  background: rgba(0,0,0,0.2);
  transition: background 0.2s;
}
.dot.active { background: var(--green-dark); }

.detail-info {
  padding: 22px 20px 12px;
}
.detail-name {
  font-size: 26px; font-weight: 900;
  color: var(--green-dark);
  margin-bottom: 6px;
}
.detail-price {
  font-size: 28px; font-weight: 900;
  color: var(--orange);
  margin-bottom: 20px;
}

.detail-attrs {
  background: var(--green-pale);
  border-radius: 14px;
  padding: 14px 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 18px;
}
.d-attr {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 15px;
}
.d-attr-label { color: #777; font-weight: 500; }
.d-attr-val { font-weight: 700; color: var(--text); display: flex; align-items: center; gap: 6px; }
.d-attr-icon { font-size: 18px; }

.detail-desc {
  font-size: 14px;
  color: #666;
  line-height: 1.75;
  padding-bottom: 16px;
  border-top: 1px solid #eee;
  padding-top: 16px;
}

/* Add button sticky at bottom */
.detail-footer {
  padding: 12px 16px 20px;
  background: var(--white);
  border-top: 1px solid #eee;
  flex-shrink: 0;
}
.add-btn {
  width: 100%;
  padding: 16px;
  background: var(--green);
  color: #fff;
  border: none;
  border-radius: 14px;
  font-family: 'Heebo', sans-serif;
  font-size: 18px;
  font-weight: 900;
  cursor: pointer;
  transition: background 0.15s;
  box-shadow: 0 4px 16px rgba(58,140,58,0.3);
}
.add-btn:active { transform: scale(0.98); }
.add-btn.added { background: #5aaa5a; }

/* â”€â”€ BOTTOM NAV â”€â”€ */
.bottom-nav {
  background: var(--white);
  border-top: 1px solid #e8eee8;
  display: flex;
  padding: 8px 0 20px;
  flex-shrink: 0;
}
.bnav-btn {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3px;
  background: none;
  border: none;
  cursor: pointer;
  font-family: 'Heebo', sans-serif;
  font-size: 11px;
  color: #aaa;
  padding: 4px 0;
  transition: color 0.15s;
}
.bnav-btn.active { color: var(--green-dark); }
.bnav-icon { font-size: 22px; }

/* â”€â”€ TOAST â”€â”€ */
.toast {
  position: absolute;
  bottom: 90px; left: 50%;
  transform: translateX(-50%) translateY(80px);
  background: var(--green-dark);
  color: #fff;
  padding: 10px 20px;
  border-radius: 40px;
  font-family: 'Heebo', sans-serif;
  font-weight: 700; font-size: 14px;
  transition: transform 0.25s ease;
  z-index: 999; pointer-events: none;
  white-space: nowrap;
}
.toast.show { transform: translateX(-50%) translateY(0); }
</style>
</head>
<body>

<div class="frame">
  <!-- Physical buttons -->
  <div class="btn-side-right"></div>
  <div class="btn-side-left-1"></div>
  <div class="btn-side-left-2"></div>
  <div class="btn-side-left-3"></div>
  <!-- Dynamic Island -->
  <div class="notch"></div>

  <div class="screen">

    <!-- TOP BAR -->
    <div class="topbar">
      <div class="topbar-title">ğŸŒ¿ ×”××©×ª×œ×”</div>
      <button class="topbar-cart" onclick="viewCart()">
        ğŸ›’
        <span class="cart-badge" id="cartBadge">0</span>
      </button>
    </div>

    <!-- VIEW: CATEGORY LIST -->
    <div class="view cat-view active" id="viewCats">
      <div class="cat-scroll" id="catScroll"></div>
    </div>

    <!-- VIEW: PRODUCT LIST -->
    <div class="view prod-list-view" id="viewProds">
      <div class="back-bar">
        <button class="back-btn" onclick="goBack('cats')">&#8250; ×—×–×¨×”</button>
        <div class="back-title" id="prodListTitle"></div>
        <div style="width:60px"></div>
      </div>
      <div class="prod-scroll" id="prodScroll"></div>
    </div>

    <!-- VIEW: PRODUCT DETAIL -->
    <div class="view detail-view" id="viewDetail">
      <div class="back-bar">
        <button class="back-btn" onclick="goBack('prods')">&#8250; ×—×–×¨×”</button>
        <div class="back-title" id="detailBackTitle"></div>
        <div style="width:60px"></div>
      </div>
      <div class="detail-scroll">
        <div class="detail-img-wrap" id="detailImgWrap">
          <img id="detailImg" src="" alt="" style="display:none">
          <span id="detailEmoji"></span>
          <div class="img-nav">
            <button class="img-nav-btn" id="btnNext">&#8250;</button>
            <div class="dots" id="dotsWrap"></div>
            <button class="img-nav-btn" id="btnPrev">&#8249;</button>
          </div>
        </div>
        <div class="detail-info">
          <div class="detail-name" id="detailName"></div>
          <div class="detail-price" id="detailPrice"></div>
          <div class="detail-attrs" id="detailAttrs"></div>
          <div class="detail-desc" id="detailDesc"></div>
        </div>
      </div>
      <div class="detail-footer">
        <button class="add-btn" id="addBtn">×”×•×¡×£ ×œ×¡×œ</button>
      </div>
    </div>

    <!-- BOTTOM NAV -->
    <div class="bottom-nav">
      <button class="bnav-btn active" id="bnav-cats" onclick="goBack('cats')">
        <span class="bnav-icon">ğŸŒ¿</span>×§×˜×’×•×¨×™×•×ª
      </button>
      <button class="bnav-btn" id="bnav-cart" onclick="viewCart()">
        <span class="bnav-icon">ğŸ›’</span>×¡×œ ×§× ×™×•×ª
      </button>
    </div>

    <div class="toast" id="toast"></div>
  </div>
</div>

<script>
var PRODUCTS = {
  '×ª×‘×œ×™× ×™×': {
    emoji: 'ğŸŒ¿', items: [
      { name:'×¨×•×–××¨×™×Ÿ ×¨×¤×•××™', price:25, sun:'×©××© ××œ××”', water:'× ××•×›×”',   type:'×¢×¥ ×•×¢×“××”',  desc:'×ª×‘×œ×™×Ÿ ×™×¨×•×—× ×™ ××××™×¥, ××¦×•×™×Ÿ ×œ×‘×™×©×•×œ ×•×œ××¨×¤×¡×ª. ×¢××™×“ ×œ×—×•× ×•×™×•×‘×©.', emoji:'ğŸŒ¿', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Rosemary_bush.jpg/400px-Rosemary_bush.jpg' },
      { name:'× ×¢× ×¢',          price:18, sun:'×—×¦×™ ×©××©',  water:'×’×‘×•×”×”',   type:'×¢×©×‘×•× ×™',    desc:'×¢×©×‘ ×¨×™×—× ×™ ××¨×¢× ×Ÿ, ××¦×•×™×Ÿ ×œ×—×œ×™×˜×•×ª ×•×œ×‘×™×©×•×œ. ×’×“×œ ××”×¨.', emoji:'ğŸŒ±', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Mint-leaves-2007.jpg/400px-Mint-leaves-2007.jpg' },
      { name:'×‘×–×™×œ×™×§×•×',      price:15, sun:'×©××© ××œ××”', water:'×‘×™× ×•× ×™×ª', type:'×¢×©×‘×•× ×™',    desc:'×ª×‘×œ×™×Ÿ ×§×œ××¡×™ ×œ×¤×¡×˜×•×ª ×•×¡×œ×˜×™×. ××•×”×‘ ×—×•× ×•×©××©.', emoji:'ğŸŒ¿', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Basil-Basilico-Ocimum_basilicum-albahaca.jpg/400px-Basil-Basilico-Ocimum_basilicum-albahaca.jpg' },
      { name:'××•×¨×’× ×•',        price:20, sun:'×©××© ××œ××”', water:'× ××•×›×”',   type:'×¢×©×‘×•× ×™',    desc:'×ª×‘×œ×™×Ÿ ×™×-×ª×™×›×•× ×™ ×¢××™×“ ×•××©×•×‘×—. ××¦×•×™×Ÿ ×œ×¤×™×¦×” ×•×ª×‘×©×™×œ×™×.', emoji:'ğŸŒ¿', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Origanum_vulgare_-_harilik_pune.jpg/400px-Origanum_vulgare_-_harilik_pune.jpg' },
      { name:'××¨×•×•×”',         price:22, sun:'×©××© ××œ××”', water:'× ××•×›×”',   type:'×¢×¥ ×•×¢×“××”',  desc:'×¦××— ×¨×™×—× ×™ ×‘×¢×œ ×¢×œ×™× ×§×˜×™×¤×ª×™×™×. ××“×™×¦×™× ×œ×™ ×•×œ×‘×™×©×•×œ.', emoji:'ğŸŒ¿', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Salvia_officinalis_0002.JPG/400px-Salvia_officinalis_0002.JPG' }
    ]
  },
  '×¦××—×™ ×—×•×¥': {
    emoji: 'ğŸŒ³', items: [
      { name:'×œ×‘× ×“×¨',      price:35, sun:'×©××© ××œ××”', water:'× ××•×›×”',   type:'×©×™×—',    desc:'×¦××— ×¨×™×—× ×™ ×¢××™×“ ×‘×¦×‘×¢ ×¡×’×•×œ ×§×¡×•×. ××•×©×š ×¤×¨×¤×¨×™× ×•×“×‘×•×¨×™×.', emoji:'ğŸ’œ', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Above_Tuscany.jpg/400px-Above_Tuscany.jpg' },
      { name:'×’×¨× ×™×•×',     price:28, sun:'×—×¦×™ ×©××©',  water:'×‘×™× ×•× ×™×ª', type:'×¢×©×‘×•× ×™', desc:'×¤×•×¨×— ×‘×¦×‘×¢×™× ×¢×©×™×¨×™×, ××¦×•×™×Ÿ ×œ×¢×¦×™×¦×™× ×•××¨×¤×¡×•×ª.', emoji:'ğŸŒ¸', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Pelargonium_zonale0.jpg/400px-Pelargonium_zonale0.jpg' },
      { name:'×™×¡××™×Ÿ',      price:45, sun:'×©××© ××œ××”', water:'×‘×™× ×•× ×™×ª', type:'××˜×¤×¡',   desc:'××˜×¤×¡ ×¨×™×—× ×™ ×¢× ×¤×¨×™×—×” ×œ×‘× ×” ××“×”×™××” ×‘×§×™×¥.', emoji:'ğŸŒ¸', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Jasminum_sambac_1.jpg/400px-Jasminum_sambac_1.jpg' },
      { name:'×‘×•×’× ×•×•×™×œ×™×”', price:60, sun:'×©××© ××œ××”', water:'× ××•×›×”',   type:'××˜×¤×¡',   desc:'××˜×¤×¡ ×¦×‘×¢×•× ×™ ×¢××™×“ ×—×•× ××•×©×œ× ×œ×’×“×¨×•×ª ×•××¨×¤×¡×•×ª.', emoji:'ğŸŒº', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Bougainvillea_glabra.jpg/400px-Bougainvillea_glabra.jpg' }
    ]
  },
  '×¦××—×™ ×¤× ×™×': {
    emoji: 'ğŸƒ', items: [
      { name:'××•× ×¡×˜×¨×”',   price:85,  sun:'××•×¨ ×¢×§×™×£', water:'×‘×™× ×•× ×™×ª', type:'×¢×œ×™×', desc:'×¦××— ×˜×¨×•×¤×™ ×¢× ×¢×œ×™× ×× ×•×§×‘×™× ××¨×©×™××™×.', emoji:'ğŸƒ', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/Monstera_deliciosa_aka_Swiss_cheese_plant.jpg/400px-Monstera_deliciosa_aka_Swiss_cheese_plant.jpg' },
      { name:'×¤×•×˜×•×¡',     price:35,  sun:'××•×¨ ×¢×§×™×£', water:'× ××•×›×”',   type:'××˜×¤×¡', desc:'×”×¦××— ×”×›×™ ×§×œ ×œ×’×™×“×•×œ! ×¢××™×“ ×•××˜×”×¨ ××•×•×™×¨.', emoji:'ğŸŒ¿', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Pothos_piper.jpg/400px-Pothos_piper.jpg' },
      { name:'×¤×™×§×•×¡',     price:120, sun:'××•×¨ ×¢×§×™×£', water:'×‘×™× ×•× ×™×ª', type:'×¢×¥',   desc:'×¢×¥ ×¤× ×™× ××œ×’× ×˜×™ ×¢× ×¢×œ×™× ××‘×¨×™×§×™×.', emoji:'ğŸŒ³', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Ficus_benjamina2.jpg/400px-Ficus_benjamina2.jpg' },
      { name:'×¡×¤×ª×™×¤×™×œ×•×', price:55,  sun:'×¦×œ ×—×œ×§×™',  water:'×’×‘×•×”×”',   type:'×¢×œ×™×', desc:'×¦××— ×¤× ×™× ×¢× ×¤×¨×™×—×” ×œ×‘× ×” ×™×¤×”×¤×™×™×”. ××˜×”×¨ ××•×•×™×¨ ××¦×•×™×Ÿ.', emoji:'ğŸŒ¸', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Spathiphyllum_cochlearispathum_RTBG.jpg/400px-Spathiphyllum_cochlearispathum_RTBG.jpg' }
    ]
  },
  '×§×§"×˜×•×¡×™×': {
    emoji: 'ğŸŒµ', items: [
      { name:'××œ×•×•×¨×”',      price:30, sun:'×©××© ××œ××”', water:'× ××•×›×”', type:'×¨×‘-×©× ×ª×™', desc:'×¦××— ××¨×¤× ××•×›×—. ××™×“×™××œ×™ ×œ××ª×—×™×œ×™× ×•×œ×—×•×.', emoji:'ğŸŒµ', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Aloe_vera_flower_inset.png/400px-Aloe_vera_flower_inset.png' },
      { name:'×§×§×˜×•×¡ ×›×“×•×¨×™', price:25, sun:'×©××© ××œ××”', water:'× ××•×›×”', type:'×›×“',      desc:'×§×§×˜×•×¡ ×§×•××¤×§×˜×™ ×‘×¢×œ ×¦×•×¨×” ×›×“×•×¨×™×ª ×™×¤×”. ×›××¢×˜ ×œ×œ× ×˜×™×¤×•×œ.', emoji:'ğŸŒµ', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Echinocactus_grusonii_Missourt_BG.jpg/400px-Echinocactus_grusonii_Missourt_BG.jpg' },
      { name:'××’×‘×”',        price:70, sun:'×©××© ××œ××”', water:'× ××•×›×”', type:'×¢× ×§×™',    desc:'×¦××— ××“×‘×¨×™ ×¢× ×¢×œ×™× ×—×“×™× ××¨×©×™××™×. ×¢××™×“ ×××•×“.', emoji:'ğŸŒµ', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/Blue_Agave_Landscape.jpg/400px-Blue_Agave_Landscape.jpg' }
    ]
  },
  '×¡×•×§×•×œ× ×˜×™×': {
    emoji: 'ğŸŒ¸', items: [
      { name:'××›×•×•×¨×™×™×”',  price:20, sun:'×©××© ××œ××”', water:'× ××•×›×”', type:'×›×“',   desc:'×¡×•×§×•×œ× ×˜ ×§×˜×Ÿ ×•×™×¤×” ×¢× ×¢×œ×™× ×©×× ×™× ×‘×¦×•×¨×ª ×•×¨×“.', emoji:'ğŸŒ¸', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Echeveria_-_Flickr_-_Stiller_Beobachter.jpg/400px-Echeveria_-_Flickr_-_Stiller_Beobachter.jpg' },
      { name:'×”×•×•×¨×ª×™×”',   price:35, sun:'××•×¨ ×¢×§×™×£', water:'× ××•×›×”', type:'×›×“',   desc:'×¡×•×§×•×œ× ×˜ ×¤× ×™× ××•×©×œ× ×¢× ×¤×¡×™× ×œ×‘× ×™× ××™×•×—×“×™×.', emoji:'ğŸŒµ', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9b/Haworthia_attenuata2.jpg/400px-Haworthia_attenuata2.jpg' },
      { name:'×¡× ×¡×•×•×™×¨×™×”', price:55, sun:'×›×œ ××•×¨',   water:'× ××•×›×”', type:'×¢×œ×™×', desc:'××›×•× ×” "×œ×©×•×Ÿ ×—××•×ª" â€“ ×¢××™×“ ×œ×”×–× ×—×” ×•××˜×”×¨ ××•×•×™×¨.', emoji:'ğŸŒ¿', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/0/03/Snake_Plant_%28Sansevieria_trifasciata_%27Laurentii%27%29.jpg/400px-Snake_Plant_%28Sansevieria_trifasciata_%27Laurentii%27%29.jpg' }
    ]
  },
  '×©×™×—×™×': {
    emoji: 'ğŸŒ¹', items: [
      { name:'×•×¨×“',            price:75, sun:'×©××© ××œ××”', water:'×’×‘×•×”×”',   type:'×©×™×— ×¤×•×¨×—', desc:'××œ×š ×”×¤×¨×—×™× ×‘×¦×‘×¢×™× ×¢×©×™×¨×™× ×•×‘×•×©× ××¢× ×’. ×“×•×¨×© ×˜×™×¤×•×œ.', emoji:'ğŸŒ¹', img:'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Rose_pruning_15.jpg/400px-Rose_pruning_15.jpg' },
      { name:'××•×¨× ×× ×˜×œ×™ ×™×¨×•×§', price:45, sun:'×—×¦×™ ×©××©',  water:'×‘×™× ×•× ×™×ª', type:'×©×™×— ×™×¨×•×§', desc:'×©×™×— ×™×¨×•×§ ×œ××•×¨×š ×”×©× ×”, ××¦×•×™×Ÿ ×œ×’×™×“×•×¨ ×•×¢×™×¦×•×‘ ×’×™× ×”.', emoji:'ğŸŒ³', img:'' }
    ]
  },
  '×›×œ×™ ×§×™×‘×•×œ': {
    emoji: 'ğŸº', items: [
      { name:'×¢×¦×™×¥ ×—×¨×¡',         price:45, sun:null, water:null, type:'×‘×™× ×•× ×™', desc:'×¢×¦×™×¥ ×—×¨×¡ ×§×œ××¡×™ ×¢× × ×§×‘ × ×™×§×•×–. ××ª××™× ×œ×¨×•×‘ ×”×¦××—×™×.', emoji:'ğŸº', img:'' },
      { name:'×¢×¦×™×¥ ×¤×œ×¡×˜×™×§ ×©×—×•×¨', price:15, sun:null, water:null, type:'×§×˜×Ÿ',   desc:'×¢×¦×™×¥ ×§×œ ×•×¢××™×“, ××’×™×¢ ×‘××’×•×•×Ÿ ×’×“×œ×™×.', emoji:'ğŸª´', img:'' },
      { name:'××“× ×™×ª ××œ×‘× ×™×ª',     price:90, sun:null, water:null, type:'×’×“×•×œ',  desc:'××“× ×™×ª ×’×“×•×œ×” ×œ×©×™×—×™× ×•×¢×¦×™×. ×¢××™×“×” ×œ×ª× ××™ ×—×•×¥.', emoji:'ğŸ“¦', img:'' }
    ]
  }
};

var cats = Object.keys(PRODUCTS);
var currentCat = null;
var currentIdx = 0;
var cart = [];

// â”€â”€ BUILD CATEGORY LIST â”€â”€
cats.forEach(function(cat) {
  var data = PRODUCTS[cat];
  var el = document.createElement('div');
  el.className = 'cat-item';
  el.innerHTML =
    '<div class="cat-item-left">' +
      '<span class="cat-emoji">' + data.emoji + '</span>' +
      '<div class="cat-info-text">' +
        '<div class="cat-name">' + cat + '</div>' +
        '<div class="cat-count">' + data.items.length + ' ××•×¦×¨×™×</div>' +
      '</div>' +
    '</div>' +
    '<span class="cat-arrow">&#8249;</span>';
  el.addEventListener('click', function() { openCat(cat); });
  document.getElementById('catScroll').appendChild(el);
});

function openCat(cat) {
  currentCat = cat;
  document.getElementById('prodListTitle').textContent = cat;
  var scroll = document.getElementById('prodScroll');
  scroll.innerHTML = '';
  PRODUCTS[cat].items.forEach(function(p, idx) {
    var el = document.createElement('div');
    el.className = 'prod-item';
    var thumbHtml = p.img
      ? '<div class="prod-thumb"><img src="' + p.img + '" onerror="this.parentNode.innerHTML=\'' + p.emoji + '\'"></div>'
      : '<div class="prod-thumb">' + p.emoji + '</div>';
    var attrsShort = [p.sun, p.water].filter(Boolean).join(' Â· ');
    el.innerHTML =
      thumbHtml +
      '<div class="prod-item-info">' +
        '<div class="prod-item-name">' + p.name + '</div>' +
        '<div class="prod-item-attrs">' + attrsShort + '</div>' +
      '</div>' +
      '<div class="prod-item-price">â‚ª' + p.price + '</div>';
    (function(i) {
      el.addEventListener('click', function() { openProduct(i); });
    })(idx);
    scroll.appendChild(el);
  });
  showView('prods');
}

function openProduct(idx) {
  currentIdx = idx;
  renderDetail();
  showView('detail');
}

function renderDetail() {
  var list = PRODUCTS[currentCat].items;
  var p = list[currentIdx];

  document.getElementById('detailBackTitle').textContent = currentCat;

  // Image
  var img = document.getElementById('detailImg');
  var emojiEl = document.getElementById('detailEmoji');
  if (p.img) {
    img.style.display = 'block';
    emojiEl.style.display = 'none';
    img.src = p.img;
    img.onerror = function() {
      img.style.display = 'none';
      emojiEl.style.display = 'block';
      emojiEl.textContent = p.emoji;
    };
  } else {
    img.style.display = 'none';
    emojiEl.style.display = 'block';
    emojiEl.textContent = p.emoji;
  }

  // Dots
  var dotsWrap = document.getElementById('dotsWrap');
  dotsWrap.innerHTML = '';
  list.forEach(function(_, i) {
    var d = document.createElement('div');
    d.className = 'dot' + (i === currentIdx ? ' active' : '');
    dotsWrap.appendChild(d);
  });

  document.getElementById('detailName').textContent = p.name;
  document.getElementById('detailPrice').textContent = 'â‚ª' + p.price;

  var attrs = '';
  if (p.sun)   attrs += '<div class="d-attr"><span class="d-attr-label">×©××©</span><span class="d-attr-val"><span class="d-attr-icon">â˜€ï¸</span>' + p.sun + '</span></div>';
  if (p.water) attrs += '<div class="d-attr"><span class="d-attr-label">×”×©×§×™×”</span><span class="d-attr-val"><span class="d-attr-icon">ğŸ’§</span>' + p.water + '</span></div>';
  if (p.type)  attrs += '<div class="d-attr"><span class="d-attr-label">×¡×•×’</span><span class="d-attr-val"><span class="d-attr-icon">ğŸª´</span>' + p.type + '</span></div>';
  document.getElementById('detailAttrs').innerHTML = attrs || '<div style="color:#aaa;font-size:14px">××™×Ÿ ×××¤×™×™× ×™×</div>';
  document.getElementById('detailDesc').textContent = p.desc;

  document.getElementById('btnPrev').disabled = (currentIdx <= 0);
  document.getElementById('btnNext').disabled = (currentIdx >= list.length - 1);

  var btn = document.getElementById('addBtn');
  btn.textContent = '×”×•×¡×£ ×œ×¡×œ';
  btn.classList.remove('added');
}

// Nav buttons
document.getElementById('btnPrev').addEventListener('click', function() {
  if (currentIdx > 0) { currentIdx--; renderDetail(); }
});
document.getElementById('btnNext').addEventListener('click', function() {
  if (currentIdx < PRODUCTS[currentCat].items.length - 1) { currentIdx++; renderDetail(); }
});

// Add to cart
document.getElementById('addBtn').addEventListener('click', function() {
  var p = PRODUCTS[currentCat].items[currentIdx];
  cart.push(p);
  document.getElementById('cartBadge').textContent = cart.length;
  var btn = document.getElementById('addBtn');
  btn.textContent = 'âœ“ × ×•×¡×£ ×œ×¡×œ!';
  btn.classList.add('added');
  showToast(p.name + ' × ×•×¡×£ ×œ×¡×œ');
  setTimeout(function() {
    btn.textContent = '×”×•×¡×£ ×œ×¡×œ';
    btn.classList.remove('added');
  }, 1800);
});

function showView(name) {
  document.querySelectorAll('.view').forEach(function(v) { v.classList.remove('active'); });
  if (name === 'cats')   document.getElementById('viewCats').classList.add('active');
  if (name === 'prods')  document.getElementById('viewProds').classList.add('active');
  if (name === 'detail') document.getElementById('viewDetail').classList.add('active');
}

function goBack(to) {
  showView(to);
}

function viewCart() {
  if (cart.length === 0) { showToast('×”×¡×œ ×¨×™×§'); return; }
  var lines = cart.map(function(p) { return p.name + ' â€“ â‚ª' + p.price; });
  var total = cart.reduce(function(s, p) { return s + p.price; }, 0);
  alert('ğŸ›’ ×”×¡×œ ×©×œ×š:\n\n' + lines.join('\n') + '\n\n×¡×”"×›: â‚ª' + total);
}

function showToast(msg) {
  var el = document.getElementById('toast');
  el.textContent = 'âœ“ ' + msg;
  el.classList.add('show');
  setTimeout(function() { el.classList.remove('show'); }, 2000);
}
</script>
</body>
</html>
